<launch>
    <!-- 启动JAKA机械臂驱动 -->
    <include file="$(find jaka_sdk_driver)/launch/jaka_sdk_bringup.launch">
        <arg name="robot_ip" value="192.168.1.100"/>
    </include>

    <!-- 启动ArUco标记检测 -->
    <node name="cube_aruco_detector" pkg="jaka_vision_control" type="cube_aruco_detector_node" output="screen">
        <param name="camera_topic" value="/camera/color/image_raw"/>
        <param name="marker_size" value="0.05"/> <!-- 5cm marker size -->
        <param name="dictionary" value="0"/> <!-- 4x4_50 dictionary -->
    </node>

    <!-- 启动话题分流器 -->
    <node name="fiducial_relay" pkg="jaka_vision_control" type="fiducial_relay_node" output="screen">
    </node>

    <!-- 启动世界坐标系定义 -->
    <node name="world_tag" pkg="jaka_vision_control" type="world_tag_node" output="screen">
    </node>

    <!-- 启动多面融合节点 -->
    <node name="cube_multi_face_fusion" pkg="jaka_vision_control" type="cube_multi_face_fusion_node" output="screen">
    </node>

    <!-- 启动标定节点 -->
    <node name="calibration_node" pkg="jaka_vision_control" type="calibration_node" output="screen">
    </node>

    <!-- 启动闭环控制节点 -->
    <node name="closed_loop_control" pkg="jaka_vision_control" type="closed_loop_control_node" output="screen">
    </node>

    <!-- 可选：启动RViz可视化 -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find jaka_vision_control)/config/visualization.rviz" />
</launch>